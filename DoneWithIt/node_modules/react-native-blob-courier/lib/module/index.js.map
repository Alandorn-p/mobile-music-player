{"version":3,"names":["NativeEventEmitter","NativeModules","BLOB_COURIER_PROGRESS_EVENT_NAME","BLOB_FETCH_FALLBACK_PARAMETERS","BLOB_MULTIPART_UPLOAD_FALLBACK_PARAMETERS","DEFAULT_FILE_MULTIPART_FIELD_NAME","convertMappedMultipartsWithSymbolizedKeysToArray","sanitizeMappedMultiparts","uuid","dict","BlobCourier","BlobCourierEventEmitter","EventEmitter","createTaskId","addProgressListener","taskId","fn","addListener","e","parsedEvent","written","parseInt","total","sanitizeSettingsData","input","progressIntervalMilliseconds","sanitizeFetchData","android","filename","headers","ios","method","mimeType","url","settings","request","optionalRequestParameters","fallback","stringifyPartsValues","parts","stringify","part","type","payload","JSON","map","sanitizeMultipartUploadData","returnResponse","wrapAbortListener","wrappedFn","signal","originalSignalOnAbort","onabort","ev","call","cancelRequest","console","debug","wrapEmitter","fnOnProgress","emitterSubscription","undefined","result","remove","emitterWrappedFetch","fetchBlob","onProgress","emitterWrappedUpload","uploadBlobFromParts","sanitized","uploadBlob","Promise","reject","uploadParts","absoluteFilePath","multipartName","requestSettings","useDownloadManagerOnAndroid","downloadManagerSettings","downloadManager","useDownloadManager"],"sources":["index.tsx"],"sourcesContent":["/**\n * Copyright (c) Ely Deckers.\n *\n * This source code is licensed under the MPL-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport { NativeEventEmitter, NativeModules } from 'react-native';\nimport {\n  BLOB_COURIER_PROGRESS_EVENT_NAME,\n  BLOB_FETCH_FALLBACK_PARAMETERS,\n  BLOB_MULTIPART_UPLOAD_FALLBACK_PARAMETERS,\n  DEFAULT_FILE_MULTIPART_FIELD_NAME,\n} from './Consts';\nimport './Extensions';\nimport type {\n  BlobFetchRequest,\n  BlobRequestSettings,\n  BlobRequestTask,\n  BlobFetchResponse,\n  BlobUploadRequest,\n  BlobUploadResponse,\n  AndroidDownloadManagerSettings,\n  BlobProgressEvent,\n  BlobRequestOnProgress,\n  BlobMultipartMapUploadRequest,\n  BlobMultipartArrayUploadRequest,\n  BlobNamedMultipartArray,\n  BlobMultipartWithName,\n  BlobFetchInput,\n  BlobUploadInput,\n} from './ExposedTypes';\nimport {\n  convertMappedMultipartsWithSymbolizedKeysToArray,\n  sanitizeMappedMultiparts,\n  uuid,\n} from './Utils';\nimport { dict } from './Extensions';\n\ntype BlobCancelNativeInput = BlobRequestTask;\n\ntype BlobFetchNativeInput = BlobFetchInput & BlobRequestTask;\n\ntype BlobUploadNativeInput = BlobUploadInput & BlobRequestTask;\n\ntype BlobUploadMultipartInput = BlobMultipartMapUploadRequest &\n  BlobRequestSettings;\n\ntype BlobUploadMultipartInputWithTask = BlobMultipartMapUploadRequest &\n  BlobRequestSettings &\n  BlobRequestTask;\n\ntype BlobUploadMultipartNativeInput = BlobMultipartArrayUploadRequest &\n  BlobRequestSettings &\n  BlobRequestTask;\n\ntype BlobCourierType = {\n  cancelRequest(input: BlobCancelNativeInput): Promise<{}>;\n  fetchBlob(input: BlobFetchNativeInput): Promise<BlobFetchResponse>;\n  uploadBlob(\n    input: BlobUploadMultipartNativeInput\n  ): Promise<BlobUploadResponse>;\n};\n\nconst { BlobCourier, BlobCourierEventEmitter } = NativeModules;\n\nconst EventEmitter = new NativeEventEmitter(BlobCourierEventEmitter);\n\nconst createTaskId = () => `rnbc-req-${uuid()}`;\n\nconst addProgressListener = (\n  taskId: string,\n  fn: (e: BlobProgressEvent) => void\n) =>\n  EventEmitter.addListener(BLOB_COURIER_PROGRESS_EVENT_NAME, (e: any) => {\n    const parsedEvent: BlobProgressEvent = {\n      written: parseInt(e.written, 10),\n      total: parseInt(e.total, 10),\n    };\n\n    if (e.taskId === taskId) {\n      fn(parsedEvent);\n    }\n  });\n\nconst sanitizeSettingsData = <T extends BlobRequestSettings>(\n  input: Readonly<T>\n) => {\n  const { progressIntervalMilliseconds } = input;\n\n  return {\n    progressIntervalMilliseconds,\n  };\n};\n\nconst sanitizeFetchData = <T extends BlobFetchNativeInput>(\n  input: Readonly<T>\n): BlobFetchNativeInput => {\n  const { android, filename, headers, ios, method, mimeType, taskId, url } =\n    input;\n\n  const settings = sanitizeSettingsData(input);\n\n  const request = {\n    filename,\n    mimeType,\n    url,\n  };\n\n  const optionalRequestParameters = dict({\n    ...settings,\n    android,\n    headers,\n    ios,\n    method,\n  }).fallback(BLOB_FETCH_FALLBACK_PARAMETERS);\n\n  return {\n    ...optionalRequestParameters,\n    ...request,\n    taskId,\n  };\n};\n\nconst stringifyPartsValues = (parts: BlobNamedMultipartArray) => {\n  const stringify = (part: BlobMultipartWithName) =>\n    part.type === 'string' && typeof part.payload === 'object'\n      ? { ...part, payload: JSON.stringify(part.payload) }\n      : part;\n\n  return parts.map(stringify);\n};\n\nconst sanitizeMultipartUploadData = <T extends BlobUploadMultipartNativeInput>(\n  input: Readonly<T>\n): BlobUploadMultipartNativeInput => {\n  const { parts, headers, method, returnResponse, url } = input;\n\n  const { taskId } = input;\n\n  const settings = sanitizeSettingsData(input);\n\n  const request = {\n    mimeType: 'multipart/form-data',\n    parts: stringifyPartsValues(parts),\n    url,\n  };\n\n  const optionalRequestParameters = dict({\n    headers,\n    method,\n    returnResponse,\n  }).fallback(BLOB_MULTIPART_UPLOAD_FALLBACK_PARAMETERS);\n\n  return {\n    ...settings,\n    ...optionalRequestParameters,\n    ...request,\n    taskId,\n  };\n};\n\nconst wrapAbortListener = async <T,>(\n  taskId: string,\n  wrappedFn: () => Promise<T>,\n  signal?: AbortSignal\n) => {\n  if (!signal) {\n    return await wrappedFn();\n  }\n\n  const originalSignalOnAbort = signal.onabort;\n\n  // @ts-ignore: TS2345\n  signal.onabort = (ev: Event) => {\n    if (originalSignalOnAbort) {\n      // @ts-ignore: TS2345\n      originalSignalOnAbort.call(signal, ev);\n    }\n\n    (BlobCourier as BlobCourierType).cancelRequest({ taskId });\n\n    console.debug(`Aborted ${taskId}`);\n  };\n\n  return await wrappedFn();\n};\n\nconst wrapEmitter = async <T,>(\n  taskId: string,\n  wrappedFn: () => Promise<T>,\n  fnOnProgress?: (e: BlobProgressEvent) => void\n) => {\n  const emitterSubscription = fnOnProgress\n    ? addProgressListener(taskId, fnOnProgress)\n    : undefined;\n\n  const result = await wrappedFn();\n\n  emitterSubscription?.remove();\n\n  return result;\n};\n\nconst emitterWrappedFetch = <T extends BlobFetchNativeInput>(\n  input: Readonly<T>\n) =>\n  wrapEmitter(\n    input.taskId,\n    () => (BlobCourier as BlobCourierType).fetchBlob(sanitizeFetchData(input)),\n    input.onProgress\n  );\n\nconst emitterWrappedUpload = <T extends BlobUploadMultipartInputWithTask>(\n  input: Readonly<T>\n) =>\n  wrapEmitter(input.taskId, () => uploadBlobFromParts(input), input.onProgress);\n\nconst fetchBlob = <T extends BlobFetchNativeInput>(input: Readonly<T>) =>\n  wrapAbortListener(\n    input.taskId,\n    () => emitterWrappedFetch(input),\n    input.signal\n  );\n\nconst uploadBlobFromParts = <T extends BlobUploadMultipartInputWithTask>(\n  input: Readonly<T>\n) => {\n  try {\n    const sanitized = sanitizeMappedMultiparts(input.parts);\n\n    return (BlobCourier as BlobCourierType).uploadBlob(\n      sanitizeMultipartUploadData({\n        ...input,\n        parts: convertMappedMultipartsWithSymbolizedKeysToArray(sanitized),\n      })\n    );\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nconst uploadParts = <T extends BlobUploadMultipartInputWithTask>(\n  input: Readonly<T>\n) =>\n  wrapAbortListener(\n    input.taskId,\n    () => emitterWrappedUpload(input),\n    input.signal\n  );\n\nconst uploadBlob = <T extends BlobUploadNativeInput>(input: Readonly<T>) => {\n  const { absoluteFilePath, filename, mimeType, multipartName } = input;\n\n  return uploadParts({\n    ...input,\n    parts: {\n      [multipartName ?? DEFAULT_FILE_MULTIPART_FIELD_NAME]: {\n        payload: {\n          absoluteFilePath,\n          filename,\n          mimeType,\n        },\n        type: 'file',\n      },\n    },\n  });\n};\n\nconst onProgress = (\n  taskId: string,\n  fn: (e: BlobProgressEvent) => void,\n  requestSettings?: BlobRequestSettings\n) => ({\n  fetchBlob: (input: BlobFetchRequest) =>\n    fetchBlob({\n      ...input,\n      ...requestSettings,\n      onProgress: fn,\n      taskId,\n    }),\n  uploadBlob: (input: BlobUploadRequest) =>\n    uploadBlob({\n      ...input,\n      ...requestSettings,\n      onProgress: fn,\n      taskId,\n    }),\n  uploadParts: (input: BlobUploadMultipartInput) =>\n    uploadParts({\n      ...input,\n      ...requestSettings,\n      onProgress: fn,\n      taskId,\n    }),\n  useDownloadManagerOnAndroid: (\n    downloadManagerSettings?: AndroidDownloadManagerSettings\n  ) =>\n    useDownloadManagerOnAndroid(taskId, downloadManagerSettings, {\n      ...requestSettings,\n      onProgress: fn,\n    }),\n});\n\nconst useDownloadManagerOnAndroid = (\n  taskId: string,\n  downloadManagerSettings?: AndroidDownloadManagerSettings,\n  requestSettings?: BlobRequestSettings & BlobRequestOnProgress\n) => ({\n  fetchBlob: (input: BlobFetchRequest) =>\n    fetchBlob({\n      ...input,\n      ...requestSettings,\n      android: {\n        downloadManager: downloadManagerSettings,\n        useDownloadManager: true,\n      },\n      taskId,\n    }),\n});\n\nconst settings = (taskId: string, requestSettings: BlobRequestSettings) => ({\n  fetchBlob: (input: BlobFetchRequest) =>\n    fetchBlob({\n      ...input,\n      ...requestSettings,\n      taskId,\n    }),\n  onProgress: (fn: (e: BlobProgressEvent) => void) =>\n    onProgress(taskId, fn, requestSettings),\n  uploadBlob: (input: BlobUploadRequest) =>\n    uploadBlob({\n      ...input,\n      ...requestSettings,\n      taskId,\n    }),\n  uploadParts: (input: BlobUploadMultipartInput) =>\n    uploadParts({\n      ...input,\n      ...requestSettings,\n      taskId,\n    }),\n  useDownloadManagerOnAndroid: (\n    downloadManagerSettings?: AndroidDownloadManagerSettings\n  ) =>\n    useDownloadManagerOnAndroid(\n      taskId,\n      downloadManagerSettings,\n      requestSettings\n    ),\n});\n\nexport default {\n  fetchBlob: (input: BlobFetchInput) =>\n    fetchBlob({ ...input, taskId: createTaskId() }),\n  onProgress: (fn: (e: BlobProgressEvent) => void) =>\n    onProgress(createTaskId(), fn),\n  settings: (input: BlobRequestSettings) => settings(createTaskId(), input),\n  uploadBlob: (input: BlobUploadInput) =>\n    uploadBlob({ ...input, taskId: createTaskId() }),\n  uploadParts: (input: BlobUploadMultipartInput) =>\n    uploadParts({ ...input, taskId: createTaskId() }),\n  useDownloadManagerOnAndroid: (\n    downloadManagerSettings: AndroidDownloadManagerSettings\n  ) => useDownloadManagerOnAndroid(createTaskId(), downloadManagerSettings),\n};\n\nexport * from './ExposedTypes';\nexport * from './ExposedConsts';\n"],"mappings":"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"}